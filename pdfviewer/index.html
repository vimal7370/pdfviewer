<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>FileAgo - PDF Reader</title>
    <link rel="stylesheet" href="./assets/fas.css" />
    <link rel="stylesheet" href="./style.css" />
  </head>
  <body>
    <div class="app-container">
      <header class="app-header" id="menubar-panel">
        <div class="left-controls">
          <button
            class="action-button"
            onclick="toggle_outline_panel()"
            title="Toggle Outline"
          >
            <i class="fas fa-list"></i>
          </button>
          <div class="app-logo">
            <svg
              width="30"
              height="30"
              viewBox="0 0 30 30"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M15.0018 23.5723C14.8269 23.5731 14.6568 23.6302 14.5167 23.735C14.3767 23.8399 14.274 23.987 14.224 24.1546L13.4482 26.7866H16.5554L15.7807 24.1541C15.7305 23.9863 15.6277 23.8392 15.4874 23.7345C15.3471 23.6297 15.1769 23.5728 15.0018 23.5723Z"
                fill="url(#paint0_linear_6452_6768)"
              />
              <path
                d="M30 21.8369V20.3771C30.0002 20.2811 29.9746 20.1868 29.9259 20.104C29.8772 20.0213 29.8071 19.9531 29.723 19.9068C28.9586 19.4744 27.1414 18.7491 23.5714 18.7491C22.0614 18.7324 20.5559 18.9167 19.0945 19.2971C16.4094 19.995 13.5906 19.995 10.9055 19.2971C9.44412 18.9167 7.93859 18.7324 6.42857 18.7491C2.85857 18.7491 1.04143 19.4744 0.276432 19.9073C0.192528 19.9537 0.122617 20.0218 0.0739938 20.1044C0.0253709 20.1871 -0.00018125 20.2812 3.89727e-06 20.3771V21.8369C-0.00037711 21.9365 0.0271852 22.0342 0.0795565 22.1188C0.131928 22.2035 0.207006 22.2718 0.296254 22.3159C0.524957 22.431 0.719925 22.6035 0.86216 22.8164C1.00439 23.0293 1.08904 23.2755 1.10786 23.5309L1.32215 26.5164C1.39268 27.4611 1.81692 28.3444 2.51017 28.99C3.20342 29.6356 4.11467 29.9959 5.06197 29.9991H8.57946C9.3884 29.9957 10.1748 29.7323 10.8226 29.2478C11.4703 28.7632 11.9451 28.0832 12.1768 27.3082L13.1946 23.8496C13.3094 23.4598 13.5473 23.1175 13.8727 22.8741C14.1981 22.6307 14.5936 22.4991 15 22.4991C15.4064 22.4991 15.8019 22.6307 16.1273 22.8741C16.4527 23.1175 16.6906 23.4598 16.8054 23.8496L17.8232 27.3082C18.0549 28.0832 18.5297 28.7632 19.1774 29.2478C19.8252 29.7323 20.6116 29.9957 21.4205 29.9991H24.938C25.8853 29.9961 26.7966 29.6358 27.49 28.9903C28.1833 28.3449 28.6077 27.4616 28.6784 26.5169L28.8927 23.5314C28.9115 23.276 28.9961 23.0299 29.1384 22.817C29.2806 22.604 29.4756 22.4316 29.7043 22.3164C29.7935 22.2722 29.8685 22.2038 29.9208 22.119C29.9731 22.0343 30.0005 21.9365 30 21.8369ZM12.1746 23.5169L11.1477 27.0076C10.9813 27.5608 10.6417 28.046 10.1789 28.3916C9.71603 28.7373 9.15444 28.9252 8.57679 28.9276H5.0625C4.38628 28.9255 3.73571 28.6686 3.24053 28.2081C2.74536 27.7476 2.44198 27.1173 2.3909 26.443L2.10322 22.4027C2.05792 21.8072 2.24566 21.2174 2.62684 20.7576C3.00802 20.2979 3.55285 20.0041 4.14643 19.9384C4.90441 19.8572 5.66627 19.8179 6.42857 19.8205C7.8219 19.7859 9.21135 19.982 10.5407 20.4007C11.1642 20.6065 11.6833 21.0467 11.9882 21.6282C12.2931 22.2097 12.36 22.887 12.1746 23.5169ZM27.6091 26.4446C27.5576 27.1186 27.2541 27.7485 26.759 28.2087C26.2638 28.6689 25.6135 28.9256 24.9375 28.9276H21.4232C20.8453 28.9251 20.2835 28.737 19.8205 28.391C19.3576 28.0451 19.018 27.5596 18.8518 27.006L17.8254 23.5169C17.6406 22.8873 17.7078 22.2106 18.0127 21.6295C18.3175 21.0485 18.8362 20.6086 19.4593 20.4028C20.7885 19.9834 22.178 19.7866 23.5714 19.8205C24.3339 19.8176 25.0959 19.8565 25.8541 19.9373C26.4476 20.0032 26.9923 20.297 27.3734 20.7567C27.7544 21.2164 27.9421 21.8062 27.8968 22.4016L27.6091 26.4446Z"
                fill="url(#paint1_linear_6452_6768)"
              />
              <path
                d="M25.7375 21.0036C25.0185 20.9272 24.2958 20.8903 23.5727 20.8933C22.2898 20.857 21.0099 21.0361 19.7863 21.4231C19.4289 21.5423 19.1319 21.7958 18.9579 22.13C18.784 22.4642 18.7468 22.8529 18.8541 23.214L19.8811 26.7047C19.9811 27.0367 20.185 27.3279 20.4628 27.5355C20.7406 27.743 21.0777 27.8559 21.4245 27.8575H24.9388C25.3445 27.8563 25.7348 27.7022 26.032 27.426C26.3292 27.1498 26.5113 26.7717 26.5422 26.3672L26.8299 22.3279C26.855 22.0086 26.7551 21.6921 26.5513 21.445C26.3475 21.198 26.0558 21.0397 25.7375 21.0036Z"
                fill="url(#paint2_linear_6452_6768)"
              />
              <path
                d="M10.2144 21.4231C8.9907 21.0361 7.71081 20.857 6.42793 20.8933C5.70502 20.8903 4.9825 20.9272 4.26365 21.0036C3.94533 21.0396 3.65344 21.1978 3.44954 21.4449C3.24565 21.6919 3.1457 22.0086 3.17079 22.3279L3.45847 26.3677C3.48945 26.7722 3.67167 27.1501 3.96882 27.4262C4.26597 27.7023 4.65624 27.8563 5.06186 27.8575H8.57614C8.923 27.8559 9.26018 27.743 9.53802 27.5353C9.81587 27.3277 10.0197 27.0363 10.1195 26.7042L11.1465 23.214C11.2539 22.8529 11.2166 22.4642 11.0427 22.13C10.8688 21.7958 10.5717 21.5423 10.2144 21.4231Z"
                fill="url(#paint3_linear_6452_6768)"
              />
              <path
                d="M11.1507 18.2555C13.6741 18.9148 16.3245 18.9148 18.8479 18.2555C20.3895 17.8543 21.9778 17.6602 23.5707 17.6786C23.9457 17.6786 24.3004 17.6882 24.6422 17.7032V6.42857C24.6422 6.14441 24.5293 5.87189 24.3283 5.67096C24.1274 5.47002 23.8549 5.35714 23.5707 5.35714H20.8922C20.4659 5.35714 20.0571 5.18782 19.7557 4.88642C19.4543 4.58502 19.285 4.17624 19.285 3.75V1.07143C19.285 0.787268 19.1721 0.514746 18.9712 0.313814C18.7703 0.112882 18.4977 0 18.2136 0H5.89216C5.75008 0 5.61382 0.0564411 5.51335 0.156907C5.41289 0.257373 5.35645 0.393634 5.35645 0.535714V17.7032C5.69823 17.6882 6.05287 17.6786 6.42787 17.6786C8.0208 17.6602 9.60906 17.8543 11.1507 18.2555ZM18.7493 9.64285C18.7493 9.50077 18.8057 9.36451 18.9062 9.26405C19.0067 9.16358 19.1429 9.10714 19.285 9.10714H22.4993C22.6414 9.10714 22.7776 9.16358 22.8781 9.26405C22.9786 9.36451 23.035 9.50077 23.035 9.64285C23.035 9.78493 22.9786 9.9212 22.8781 10.0217C22.7776 10.1221 22.6414 10.1786 22.4993 10.1786H19.8207V11.7857H21.4279C21.5699 11.7857 21.7062 11.8422 21.8067 11.9426C21.9071 12.0431 21.9636 12.1793 21.9636 12.3214C21.9636 12.4635 21.9071 12.5998 21.8067 12.7002C21.7062 12.8007 21.5699 12.8571 21.4279 12.8571H19.8207V15C19.8207 15.1421 19.7643 15.2783 19.6638 15.3788C19.5634 15.4793 19.4271 15.5357 19.285 15.5357C19.1429 15.5357 19.0067 15.4793 18.9062 15.3788C18.8057 15.2783 18.7493 15.1421 18.7493 15V9.64285ZM12.8564 9.64285C12.8564 9.50077 12.9129 9.36451 13.0133 9.26405C13.1138 9.16358 13.2501 9.10714 13.3922 9.10714H14.9993C15.5676 9.10714 16.1127 9.3329 16.5145 9.73477C16.9164 10.1366 17.1422 10.6817 17.1422 11.25V13.3929C17.1422 13.9612 16.9164 14.5062 16.5145 14.9081C16.1127 15.3099 15.5676 15.5357 14.9993 15.5357H13.3922C13.2501 15.5357 13.1138 15.4793 13.0133 15.3788C12.9129 15.2783 12.8564 15.1421 12.8564 15V9.64285ZM7.4993 9.64285C7.4993 9.50077 7.55574 9.36451 7.65621 9.26405C7.75667 9.16358 7.89294 9.10714 8.03502 9.10714H9.91001C10.4073 9.10714 10.8842 9.30468 11.2358 9.65631C11.5875 10.0079 11.785 10.4849 11.785 10.9821C11.785 11.4794 11.5875 11.9563 11.2358 12.308C10.8842 12.6596 10.4073 12.8571 9.91001 12.8571H8.57073V15C8.57073 15.1421 8.51429 15.2783 8.41382 15.3788C8.31336 15.4793 8.1771 15.5357 8.03502 15.5357C7.89294 15.5357 7.75667 15.4793 7.65621 15.3788C7.55574 15.2783 7.4993 15.1421 7.4993 15V9.64285Z"
                fill="url(#paint4_linear_6452_6768)"
              />
              <path
                d="M10.7161 10.9813C10.7161 10.7682 10.6314 10.5638 10.4807 10.4131C10.33 10.2624 10.1256 10.1777 9.91253 10.1777H8.57324V11.7849H9.91253C10.1256 11.7849 10.33 11.7002 10.4807 11.5495C10.6314 11.3988 10.7161 11.1944 10.7161 10.9813Z"
                fill="url(#paint5_linear_6452_6768)"
              />
              <path
                d="M16.0725 13.392V11.2492C16.0725 10.965 15.9597 10.6925 15.7587 10.4915C15.5578 10.2906 15.2853 10.1777 15.0011 10.1777H13.9297V14.4634H15.0011C15.2853 14.4634 15.5578 14.3506 15.7587 14.1496C15.9597 13.9487 16.0725 13.6762 16.0725 13.392Z"
                fill="url(#paint6_linear_6452_6768)"
              />
              <path
                d="M20.8936 4.28571H23.5722C23.68 4.28839 23.7874 4.29932 23.8936 4.31839C23.8215 4.22978 23.7449 4.14486 23.6643 4.06393L20.5797 0.979286C20.4987 0.898646 20.4138 0.822121 20.3252 0.75C20.3443 0.856153 20.3552 0.963609 20.3579 1.07143V3.75C20.3579 3.89208 20.4143 4.02834 20.5148 4.12881C20.6152 4.22927 20.7515 4.28571 20.8936 4.28571Z"
                fill="url(#paint7_linear_6452_6768)"
              />
              <defs>
                <linearGradient
                  id="paint0_linear_6452_6768"
                  x1="16.3482"
                  y1="23.4651"
                  x2="12.8628"
                  y2="26.9899"
                  gradientUnits="userSpaceOnUse"
                >
                  <stop stop-color="white" />
                  <stop offset="1" stop-color="#E45B5B" />
                </linearGradient>
                <linearGradient
                  id="paint1_linear_6452_6768"
                  x1="28"
                  y1="18.373"
                  x2="20.2483"
                  y2="39.9962"
                  gradientUnits="userSpaceOnUse"
                >
                  <stop stop-color="white" />
                  <stop offset="1" stop-color="#E45B5B" />
                </linearGradient>
                <linearGradient
                  id="paint2_linear_6452_6768"
                  x1="26.2977"
                  y1="20.6564"
                  x2="18.8721"
                  y2="29.6184"
                  gradientUnits="userSpaceOnUse"
                >
                  <stop stop-color="white" />
                  <stop offset="1" stop-color="#E45B5B" />
                </linearGradient>
                <linearGradient
                  id="paint3_linear_6452_6768"
                  x1="10.6707"
                  y1="20.6564"
                  x2="3.24512"
                  y2="29.6184"
                  gradientUnits="userSpaceOnUse"
                >
                  <stop stop-color="white" />
                  <stop offset="1" stop-color="#E45B5B" />
                </linearGradient>
                <linearGradient
                  id="paint4_linear_6452_6768"
                  x1="23.3564"
                  y1="-0.625"
                  x2="3.07775"
                  y2="21.1958"
                  gradientUnits="userSpaceOnUse"
                >
                  <stop stop-color="white" />
                  <stop offset="1" stop-color="#E45B5B" />
                </linearGradient>
                <linearGradient
                  id="paint5_linear_6452_6768"
                  x1="10.5732"
                  y1="10.1242"
                  x2="8.92265"
                  y2="12.4265"
                  gradientUnits="userSpaceOnUse"
                >
                  <stop stop-color="white" />
                  <stop offset="1" stop-color="#E45B5B" />
                </linearGradient>
                <linearGradient
                  id="paint6_linear_6452_6768"
                  x1="15.9297"
                  y1="10.0349"
                  x2="12.1121"
                  y2="12.0318"
                  gradientUnits="userSpaceOnUse"
                >
                  <stop stop-color="white" />
                  <stop offset="1" stop-color="#E45B5B" />
                </linearGradient>
                <linearGradient
                  id="paint7_linear_6452_6768"
                  x1="23.6557"
                  y1="0.631054"
                  x2="19.7899"
                  y2="4.67523"
                  gradientUnits="userSpaceOnUse"
                >
                  <stop stop-color="white" />
                  <stop offset="1" stop-color="#E45B5B" />
                </linearGradient>
              </defs>
            </svg>

            <span>DocView PDF</span>
          </div>
        </div>

        <div class="app-toolbar">
          <div class="app-toolbar-group">
            <button
            class="action-button"
            onclick="handlePrint()"
            title="Print Document"
            id="print-button"
            style="display: none;"
          >
            <i class="fas fa-print"></i>
          </button>
            <button
              class="action-button"
              onclick="show_search_panel()"
              title="Search"
            >
              <i class="fas fa-search"></i>
            </button>
            <button
              class="action-button"
              onclick="rotate_pages(-90)"
              title="Rotate Left"
            >
              <i class="fas fa-undo"></i>
            </button>
            <button
              class="action-button"
              onclick="rotate_pages(90)"
              title="Rotate Right"
            >
              <i class="fas fa-redo"></i>
            </button>
            <div class="app-menu">
              <button class="dropdown-toggle" id="view-menu-toggle">
                <div class="zoom-control toggle">
                  <span class="zoom-value" id="zoom-level">100%</span>
                  <i class="fa-solid fa-angle-down"></i>
                </div>
              </button>
              <div class="dropdown-menu" id="view-menu">
                <div class="dropdown-item" onclick="zoom_to(48)">
                  <i class="fas fa-search-minus"></i>
                  50%
                </div>
                <div class="dropdown-item" onclick="zoom_to(72)">
                  <i class="fas fa-search"></i>
                  75% (72 dpi)
                </div>
                <div class="dropdown-item" onclick="zoom_to(96)">
                  <i class="fas fa-search"></i>
                  100% (96 dpi)
                </div>
                <div class="dropdown-item" onclick="zoom_to(120)">
                  <i class="fas fa-search-plus"></i>
                  125%
                </div>
                <div class="dropdown-item" onclick="zoom_to(144)">
                  <i class="fas fa-search-plus"></i>
                  150%
                </div>
                <div class="dropdown-item" onclick="zoom_to(192)">
                  <i class="fas fa-search-plus"></i>
                  200%
                </div>
              </div>
            </div>

            <div class="zoom-control">
              <button class="zoom-button" onclick="zoom_out()" title="Zoom Out">
                <i class="fas fa-minus"></i>
              </button>
              <button class="zoom-button" onclick="zoom_in()" title="Zoom In">
                <i class="fas fa-plus"></i>
              </button>
            </div>

            <button
              class="action-button"
              onclick="toggle_fullscreen()"
              title="Toggle Fullscreen"
            >
              <i class="fa-solid fa-expand"></i>
            </button>
           
            <button
              class="action-button"
              onclick="cycleTheme()"
              title="Toggle Theme"
              id="theme-toggle-button"
            >
              <i class="fas fa-desktop" id="theme-toggle-icon"></i>
            </button>
          </div>
        </div>
      </header>

      <div class="app-content">
        <aside class="app-sidebar hidden" id="outline-panel">
          <div class="sidebar-header">
            <span>Document Outline</span>
            <button class="sidebar-close" onclick="toggle_outline_panel()">
              <i class="fas fa-times"></i>
            </button>
          </div>
          <div class="outline-container">
            <ul class="outline-list" id="outline">
              <!-- outline inserted here -->
            </ul>
          </div>
        </aside>

        <main class="document-container" id="page-panel">
          <div id="message">
            <i class="fas fa-file-pdf"></i>
            Loading Viewer...
          </div>
          <div id="pages">
            <!-- pages inserted here -->
          </div>
        </main>
      </div>

      <footer class="search-panel" id="search-panel" style="display: none">
        <input
          id="search-input"
          class="search-input"
          type="search"
          placeholder="Search in document..."
          autocomplete="off"
          size="40"
        />
        <button class="search-button" onclick="run_search(-1, 1)">
          <i class="fas fa-arrow-up"></i>
          <span>Previous</span>
        </button>
        <button class="search-button" onclick="run_search(1, 1)">
          <i class="fas fa-arrow-down"></i>
          <span>Next</span>
        </button>
        <div class="search-status" id="search-status"></div>
        <button class="search-close" onclick="hide_search_panel()">
          <i class="fas fa-times"></i>
        </button>
      </footer>
    </div>

    <!-- Hidden input for file dialog -->
    <input
      style="display: none"
      id="open-file-input"
      type="file"
      accept=".pdf,application/pdf"
      onchange="open_document_from_file(event.target.files[0])"
    />

    <script>
      // Toggle dropdown menus
      document.querySelectorAll(".dropdown-toggle").forEach((toggle) => {
        toggle.addEventListener("click", function (e) {
          e.stopPropagation();
          const menu = this.nextElementSibling;
          document.querySelectorAll(".dropdown-menu").forEach((m) => {
            if (m !== menu) m.classList.remove("show");
          });
          menu.classList.toggle("show");
        });
      });

      // Close dropdowns when clicking outside
      document.addEventListener("click", function () {
        document.querySelectorAll(".dropdown-menu").forEach((menu) => {
          menu.classList.remove("show");
        });
      });

      // Initialize with proper zoom level
      document.addEventListener("DOMContentLoaded", function () {
        // Set initial zoom level display to 100%
        document.getElementById("zoom-level").textContent = "100%";
      });
    </script>
    <script src="main.js"></script>
  </body>
</html>
